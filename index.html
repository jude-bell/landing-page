<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="theme-color" content="#f7f5f0">
<!-- allow safe-area insets on iOS -->
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Morse — Messenger & Wallet</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --background: #f7f5f0; 
  --terracotta-accent: #bf5e4a;
  --terracotta-mid: #d49383;
  --terracotta-highlight: #e8d1bd;
  --muted-green: #8ca675;
  --deep-brick-red: #b83f33;
  --custom-teal: #78aea9;
  --custom-teal-text: #6b9b99;
  --custom-teal-bg: #bdd8d6;
  --text-dark: #352d2c;
  --text-muted: #675f5e;
  --glass: rgba(255,255,255,0.55);
  --max-w: 1200px;
  --header-h: 90px;

  /* dynamic viewport unit — will be set in JS as 1% of the visible innerHeight */
  --vh: 1vh;
}

html, body {
  margin: 0; height: 100%;
  font-family: 'Inter', system-ui, sans-serif;
  background: radial-gradient(circle at 50% 0%, var(--terracotta-highlight), var(--background) 90%);
  color: var(--text-dark);
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch; /* smooth scrolling on iOS */
  background-color: var(--background);
}

/* ensure content doesn't collide with home indicator area */
body { padding-bottom: env(safe-area-inset-bottom); }

a { text-decoration: none; color: inherit; }

header {
  top: 0; left: 0; right: 0;
  backdrop-filter: blur(12px);
  background: #f7f5f0;
  border-bottom: 1px solid rgba(0,0,0,0.05);
  z-index: 60;
  height: var(--header-h);
  padding-top: env(safe-area-inset-top);
  box-sizing: border-box;
}

.nav {
  max-width: var(--max-w);
  margin: 0 auto;
  padding: 0 28px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 100%;
}

.logo {
  width: 44px; height: 44px;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--deep-brick-red), var(--terracotta-mid));
  display: flex; align-items: center; justify-content: center;
  color: #fff; font-weight: 800;
  box-shadow: 0 6px 24px rgba(191,94,74,0.25);
}

.brand h1 { font-size: 17px; margin: 0; font-weight: 700; color: var(--deep-brick-red); }
.brand small { color: var(--text-muted); font-size: 12px; display: block; margin-top: -2px; }

.nav-links { display: flex; align-items: center; gap: 18px; }
.nav-links a { font-size: 14px; font-weight: 600; color: var(--text-muted); transition: color .2s; }
.nav-links a:hover { color: var(--deep-brick-red); }

.cta {
  background: linear-gradient(90deg, var(--custom-teal), var(--muted-green));
  color: #fff;
  padding: 10px 18px;
  border-radius: 10px;
  font-weight: 700;
  box-shadow: 0 6px 18px rgba(120,174,169,0.25);
  transition: transform .2s ease;
}
.cta:hover { transform: translateY(-2px); }

.container { max-width: var(--max-w); margin: 0 auto; padding: 20px 28px; }

/* ---------- HERO (full-screen fold) ---------- */
.hero {
  display: grid;
  grid-template-columns: 1fr;
  align-items: start;
  text-align: center;
  position: relative;
  padding: 20px 28px 32px;
  /* use dynamic --vh and add +1px to ensure page is scrollable on initial load (helps Safari hide bottom bar) */
  min-height: calc(var(--vh, 1vh) * 100 - var(--header-h) + 1px);
  box-sizing: border-box;
  padding-bottom: calc(32px + env(safe-area-inset-bottom));
}

.eyebrow { display: none; }

.hero-title {
  font-size: clamp(34px, 6.5vw, 64px);
  font-weight: 800;
  background: linear-gradient(180deg, var(--deep-brick-red), var(--terracotta-accent) 80%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  letter-spacing: -0.02em;
  margin: 0 0 4px;
  line-height: 1.05;
  z-index: 2;
}

.lead {
  color: var(--text-muted);
  font-size: 15px;
  max-width: 68ch;
  margin: 0 auto 6px;
  line-height: 1.35;
  z-index: 2;
}

.actions {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 0;
  z-index: 2;
}

.hero::before {
  content: "";
  position: absolute;
  top: -10%; left: 50%;
  transform: translateX(-50%);
  width: 700px; height: 700px;
  background: radial-gradient(circle at center, rgba(191,94,74,0.15), rgba(120,174,169,0.12), transparent 70%);
  filter: blur(60px);
  z-index: 0;
}

/* ---------- PRODUCT OVERVIEW (new) ---------- */
.product-fold {
  /* use dynamic --vh and add +1px so it's slightly taller than viewport (ensures scroll) */
  min-height: calc(var(--vh, 1vh) * 100 - var(--header-h) + 1px);
  display: grid;
  align-items: center;
  padding: 28px 28px;
  box-sizing: border-box;
  background: transparent;
  border-top: 1px solid rgba(184,63,51,0.02);
  padding-bottom: calc(120px + env(safe-area-inset-bottom));
}

.product-overview {
  padding: 80px 28px;
  background: transparent;
  border-top: 1px solid rgba(184,63,51,0.06);
  margin-top: 6px;
}

.product-inner {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 36px;
  align-items: center;
  max-width: var(--max-w);
  margin: 0 auto;
}

.product-title {
  font-size: clamp(28px, 4.8vw, 40px);
  font-weight: 800;
  margin: 0 0 18px;
  background: linear-gradient(180deg, var(--deep-brick-red), var(--terracotta-accent) 80%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  line-height: 1.08;
}

.product-body {
  color: var(--text-muted);
  font-size: 16px;
  max-width: 60ch;
  line-height: 1.6;
}

/* video placeholder */
.video-placeholder video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 14px;
}

.video-placeholder .play {
  font-size: 46px;
  font-weight: 800;
  opacity: 0.95;
  color: rgba(55,45,44,0.9);
}

.product-inner .video-placeholder { justify-self: end; }

.product-cta {
  margin-top: 64px;
  display: flex;
  justify-content: center;
  gap: 12px;
}
.product-cta .cta { padding: 14px 22px; font-size: 15px; }

.features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
  margin-top: 48px;
}
.card { background: rgba(255,255,255,0.7); border-radius: 16px; padding: 24px; border: 1px solid rgba(191,94,74,0.1); box-shadow: 0 10px 30px rgba(191,94,74,0.15); backdrop-filter: blur(8px); text-align: left; transition: transform .25s ease, box-shadow .25s ease; }
.card:hover { transform: translateY(-3px); box-shadow: 0 14px 40px rgba(184,63,51,0.25); }
.card h3 { margin: 0 0 10px; font-size: 17px; font-weight: 700; color: var(--deep-brick-red); }
.card p { color: var(--text-muted); margin: 0; font-size: 15px }

#waitlist { margin-top: 40px; text-align: center; }
#waitlist form { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 14px; }
#waitlist input { flex: 1; min-width: 240px; padding: 12px 14px; border-radius: 10px; border: 1px solid rgba(184,63,51,0.2); background: rgba(255,255,255,0.8); color: var(--text-dark); }
#waitlist input::placeholder { color: var(--text-muted); }

footer { margin-top: 100px; padding: 36px 28px; border-top: 1px solid rgba(184,63,51,0.15); color: var(--text-muted); background: rgba(255,255,255,0.6); }
.footer-inner { max-width: var(--max-w); margin: 0 auto; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 12px; }
.links { display: flex; gap: 16px; }

.reveal { opacity: 0; transform: translateY(10px); transition: all 700ms cubic-bezier(.2,.9,.25,1); }
.reveal.in { opacity: 1; transform: none; }

@media (max-width: 1024px) {
  .product-inner { grid-template-columns: 1fr 1fr; gap: 28px; }
  .product-inner .video-placeholder { max-width: 480px; min-height: 220px; }
}

@media (max-width: 768px) {
  .nav-links { display: none; }

  .hero {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    text-align: left;
    gap: 18px;
    padding: 28px 24px 40px;
    /* keep a tiny extra to ensure page is scrollable */
    min-height: calc(var(--vh, 1vh) * 100 - var(--header-h) - 60px + 1px);
    box-sizing: border-box;
    padding-bottom: calc(28px + env(safe-area-inset-bottom));
  }

  .hero-title { font-size: clamp(28px, 6vw, 48px); margin: 0; line-height: 1.08; width: 100%; }
  .lead { font-size: 15px; line-height: 1.4; color: var(--text-muted); margin: 0; }

  .actions { width: 100%; justify-content: flex-start; margin-top: 4px; gap: 12px; }
  .actions .cta { padding: 11px 16px; font-size: 14px; border-radius: 10px; }

  .hero::before { top: -16%; width: 420px; height: 420px; filter: blur(40px); }

  .product-inner { grid-template-columns: 1fr; gap: 18px; }
  .product-inner .video-placeholder { justify-self: stretch; max-width: 100%; min-height: 200px; }
  .product-title { font-size: 26px; text-align: left; }
  .product-body { text-align: left; }

  .product-cta { margin-top: 28px; }
}
</style>
</head>

<body>
  <header>
    <nav class="nav">
      <div class="brand" style="display:flex;align-items:center;gap:12px;">
        <img src="logo.png" alt="Morse Logo" class="logo">
        <div>
          <h1>Morse</h1>
          <small>Messenger · Wallet</small>
        </div>
      </div>
      <div class="nav-links">
        <a href="#features">Features</a>
        <a href="#about">About</a>
        <a class="cta" href="#waitlist">Join Waitlist</a>
      </div>
    </nav>
  </header>

<main>
  <section class="container">
    <div class="hero">
      <h2 class="hero-title reveal">
        The Encrypted Network For The Self-Sovereign
      </h2>
      <p class="lead reveal">
        Morse pairs on-device keys with decentralized transport and a seamless Stellar-powered wallet.
        Own your identity, your keys, and your messages, all in one encrypted app.
      </p>

      <div class="actions reveal">
        <a class="cta" href="#waitlist">Get early access</a>
      </div>
    </div>
  </section>

  <section class="product-fold">
    <section class="product-overview" aria-labelledby="product-title">
      <div class="product-inner">
        <div>
          <h2 id="product-title" class="product-title reveal">
            Messaging. Money. Freedom.<br>Welcome to Morse.
          </h2>

          <p class="product-body reveal">
            From encrypted messaging to peer-to-peer payments, digital freedom is unfolding across the world.
            It’s reshaping how people connect, transact, and build trust; all without intermediaries.
            And it’s all happening with Morse.
          </p>
        </div>

        <div class="video-placeholder reveal">
          <video 
            class="video-element"
            src="morse-small.mp4"
            autoplay 
            loop 
            muted 
            playsinline 
            preload="auto"
          ></video>
        </div>        
      </div>

      <div class="product-cta reveal">
        <a class="cta" href="#about" aria-label="Learn more about Morse">Learn More</a>
      </div>
    </section>
  </section>

  <section class="container" id="features" style="padding-top:30px;">
    <div class="features reveal">
      <div class="card">
        <h3>Secure Conversations</h3>
        <p>End-to-end encryption using your device-held private keys. No one else can read or revoke access.</p>
      </div>
      <div class="card">
        <h3>Decentralized Transport</h3>
        <p>Messages move through independent relays — your data stays off centralized servers.</p>
      </div>
      <div class="card">
        <h3>Wallet Integrated</h3>
        <p>Send or receive XLM directly in chats for tips, payments, and fast global transactions.</p>
      </div>
    </div>

    <section id="waitlist" class="reveal">
      <h3>Join the Waitlist</h3>
      <p style="color:var(--text-muted)">Be the first to experience Morse. No spam, just launch updates.</p>
      <form id="wlForm">
        <input type="email" id="email" placeholder="your@email.com" required>
        <button class="cta" type="submit">Get Notified</button>
      </form>
    </section>
  </section>

  <footer>
    <div class="footer-inner">
      <div>© <span id="year"></span> Morse Wallet, Inc.</div>
      <div class="links">
        <a href="#privacy">Privacy</a>
        <a href="#terms">Terms</a>
        <a href="mailto:support@morsewallet.com">Contact</a>
      </div>
    </div>
  </footer>
</main>

<script>
/* update CSS --vh to be 1% of the visible innerHeight (excludes iOS bars) */
function setVh() {
  const vh = window.innerHeight * 0.01;
  document.documentElement.style.setProperty('--vh', `${vh}px`);
}
setVh();

['resize', 'orientationchange', 'load', 'pageshow'].forEach(evt => {
  window.addEventListener(evt, setVh, { passive: true });
});

// update while scrolling too (Safari changes innerHeight as bars hide/show).
let ticking = false;
window.addEventListener('scroll', () => {
  if (!ticking) {
    window.requestAnimationFrame(() => {
      setVh();
      ticking = false;
    });
    ticking = true;
  }
}, { passive: true });

/* Conservative iOS Safari nudge:
   Try a tiny scroll to encourage Safari to hide the bottom bar when the page
   initially has insufficient scroll. This is only attempted on iOS Safari.
   It will run on load and again on the first user touch if needed. */
function isiOSSafari() {
  const ua = navigator.userAgent || navigator.vendor || window.opera;
  // basic iOS + Safari detection (keeps it conservative)
  return (/iP(hone|od|ad)/.test(ua) && /Safari/.test(ua) && !/CriOS|FxiOS|OPiOS|EdgiOS/.test(ua));
}

function attemptHideSafariBar() {
  // only try if on iOS Safari and at top of page
  if (!isiOSSafari()) return;
  if (window.pageYOffset === 0) {
    // small delay so browser finishes layout / chrome animation
    setTimeout(() => {
      try {
        window.scrollTo(0, 1);
      } catch (e) {
        // ignore failures (some browsers block programmatic scrolling)
      }
    }, 250);
  }
}

// run on load/pageshow
window.addEventListener('load', attemptHideSafariBar, { passive: true });
window.addEventListener('pageshow', attemptHideSafariBar, { passive: true });

// also do it on first user interaction if load attempt didn't hide it
function onFirstTouch() {
  attemptHideSafariBar();
  window.removeEventListener('touchstart', onFirstTouch);
}
window.addEventListener('touchstart', onFirstTouch, { passive: true });

/* ---------- existing scripts ---------- */
document.getElementById('year').textContent = new Date().getFullYear();

const revealEls = document.querySelectorAll('.reveal');
const observer = new IntersectionObserver(entries => {
  for (const entry of entries) {
    if (entry.isIntersecting) {
      entry.target.classList.add('in');
      observer.unobserve(entry.target);
    }
  }
}, { threshold: 0.15 });
revealEls.forEach(el => observer.observe(el));

document.getElementById('wlForm').addEventListener('submit', e => {
  e.preventDefault();
  const email = document.getElementById('email').value.trim();
  if (!email) return;
  const stored = JSON.parse(localStorage.getItem('morse_waitlist') || '[]');
  stored.push({ email, ts: Date.now() });
  localStorage.setItem('morse_waitlist', JSON.stringify(stored));
  e.target.querySelector('button').innerText = "You're in 🎉";
  e.target.reset();
});

function updateHeroForMobile() {
  const hero = document.querySelector('.hero-title');
  if (window.innerWidth <= 768) {
    hero.innerHTML = "The<br>Encrypted Network<br>For The<br>Self-Sovereign";
  } else {
    hero.innerHTML = "The Encrypted Network<br>For The Self-Sovereign";
  }
}
updateHeroForMobile();
window.addEventListener('resize', updateHeroForMobile);
</script>
</body>
</html>


